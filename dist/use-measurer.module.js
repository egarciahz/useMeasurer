import{useEffect as t,useState as e,useRef as n,useCallback as i}from"react";import r from"resize-observer-polyfill";import o from"@use-it/instance";export default function(f){var l=o({}),c=e({}),a=c[0],s=c[1],u=n(null),h=i(function(){if(u.current){var t=function(t,e){var n={};if(e.indexOf("client")>-1&&(n.client={top:t.clientTop,left:t.clientLeft,width:t.clientWidth,height:t.clientHeight}),e.indexOf("offset")>-1&&(n.offset={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}),e.indexOf("scroll")>-1&&(n.scroll={top:t.scrollTop,left:t.scrollLeft,width:t.scrollWidth,height:t.scrollHeight}),e.indexOf("bounds")>-1){var i=t.getBoundingClientRect();n.bounds={top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height}}if(e.indexOf("margin")>-1){var r=getComputedStyle(t);n.margin={top:r?parseInt(r.marginTop):0,right:r?parseInt(r.marginRight):0,bottom:r?parseInt(r.marginBottom):0,left:r?parseInt(r.marginLeft):0}}return n}(u.current,f);l.animFrameID=window.requestAnimationFrame(function(){s(t)})}},[u.current]),m=o(new r(h));return t(function(){return u.current&&m&&(m.unobserve(u.current),m.observe(u.current)),function(){window.cancelAnimationFrame(l.animFrameID),m&&(m.disconnect(),m=null)}},[u.current]),[a,u,h]}
